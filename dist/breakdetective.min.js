/*! breakdetective v0.0.2-dev [29-06-2015] | (c) Rafael Pawlos (http://rafaelpawlos.com) | MIT license */
var breakdetective=function(){var a={init:function(a){var b=this;b.container=a,b.firstChild=a.firstElementChild,a.className+=" breakdetective",b.firstChild&&(b.lastChild=a.lastElementChild,b.elementsWidth=b.getElementsWidth(a.children),b.minWidth=parseInt(b.getCssValue(b.firstChild,"min-width"))||b.elementsWidth.max,b.update(),b.addListener(window,"resize",b.update))},update:function(){var a=this;a.checkIfbroken(),a.updateClass(),a.updateColumnsNumber()},checkIfbroken:function(){var a=this;a.broken=a.elementsWidth.all+1>a.container.offsetWidth},updateClass:function(){var a=this,b=a.container.className.match("broken-line");a.broken&&!b?a.container.className+=" broken-line":!a.broken&&b&&a.rmClass(a.container,"broken-line")},updateColumnsNumber:function(){var a=this,b=0;b=Math.floor(a.container.offsetWidth/(a.minWidth+1)),parseInt(a.container.getAttribute("data-bditems"))!==b&&a.container.setAttribute("data-bditems",b)},getElementsWidth:function(a){for(var b=this,c=[],d=0;d<a.length;d++)c[d]=b.getOuterWidth(a[d]);return{max:Math.max.apply(Math,c),all:c.reduce(function(a,b){return a+b})}},getOuterWidth:function(a){var b=this,c=b.getCssValue(a,"box-sizing");if("border-box"!==c){var d=parseInt(b.getCssValue(a,"padding-left")),e=parseInt(b.getCssValue(a,"padding-right")),f=parseInt(b.getCssValue(a,"border-left-width")),g=parseInt(b.getCssValue(a,"border-right-width"));return a.offsetWidth+d+e+f+g}return a.offsetWidth},getCssValue:function(a,b){var c=window.getComputedStyle(a);return c.getPropertyValue(b)},addListener:function(a,b,c){var d=this;a.addEventListener(b,function(a){return c.call(d,a)},!1)},rmClass:function(a,b){var c=new RegExp("( |^)"+b+"($| )");a.className=a.className.replace(c,"$2")}};return function(b){if("string"==typeof b)var c=document.querySelectorAll(b);else var c=b;for(var d=0;d<c.length;d++){var e=c[d];e.breakdetective?console.warn("Detected double initialization of breakdetective module on %o",e):(Object.create(a).init(e),e.breakdetective=!0)}return c}}();