/*! breakdetective v0.0.1-dev [17-06-2015] | (c) Rafael Pawlos (http://rafaelpawlos.com) | MIT license */
var breakdetective=function(){var a={init:function(a){var b=this;if(b.element=a,b.isTextContainer=b.isText(a.firstChild),b.element.className+=" breakdetective",!b.isTextContainer){b.children=a.childNodes;var c=b.children.length;b.lastChild=b.isText(b.children[c-1])?b.children[c-2]:b.children[c-1],b.update(),b.addListener(window,"resize",b.update)}},update:function(){var a=this;a.checkIfbroken(),a.updateClass(),a.updateItemsNumber()},checkIfbroken:function(){var a=this;a.broken=a.lastChild.offsetTop-a.children[0].offsetTop>0},updateClass:function(){var a=this,b=a.element.className.match("broken-line");a.broken&&!b?a.element.className+=" broken-line":!a.broken&&b&&a.removeClass(a.element,"broken-line")},updateItemsNumber:function(){var a=this;if(a.lastOffsetLeft!==a.lastChild.offsetLeft){for(var b=0,c=a.children[0];null!==c&&c.offsetTop===a.children[0].offsetTop;)b++,c=c.nextElementSibling;a.element.setAttribute("data-bdcolumns",b),a.lastOffsetLeft=a.lastChild.offsetLeft}},addListener:function(a,b,c){var d=this;a.addEventListener(b,function(a){return c.call(d,a)},!1)},removeClass:function(a,b){a.className=a.className.replace(new RegExp(" ?"+b),"")},isText:function(a){return"#text"===a.nodeName}};return function(b){var c=document.querySelectorAll(b);return Array.prototype.forEach.call(c,function(b,c){b.breakdetective?console.warn("Detected double initialization of breakdetective module on %o",b):(Object.create(a).init(b),b.breakdetective=!0)}),c}}();